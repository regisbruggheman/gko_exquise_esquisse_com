!function(e,t){var n=function(){var t=e(document).data("events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,a,o,u,s,l,c,h;if(r.fire(n,"ajax:before")){if(u=n.data("cross-domain"),s=u===t?null:u,l=n.data("with-credentials")||null,c=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){i=n.attr("method"),a=n.attr("action"),o=n.serializeArray();var d=n.data("ujs:submit-button");d&&(o.push(d),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),a=r.href(n),o=n.data("params")||null);h={type:i||"GET",data:o,dataType:c,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},xhrFields:{withCredentials:l},crossDomain:s},a&&(h.url=a);var f=r.ajax(h);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var i=r.href(n),a=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),s=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';s!==t&&u!==t&&(c+='<input name="'+s+'" value="'+u+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),i=!1;return n?(r.fire(e,"confirm")&&(i=r.confirm(n),t=r.fire(e,"confirm:complete",[i])),i&&t):!0},blankInputs:function(t,n,r){var i,a,o=e(),u=n||"input,textarea";return t.find(u).each(function(){i=e(this),a=i.is(":checkbox,:radio")?i.is(":checked"):i.val(),a==!!r&&(o=o.add(i))}),o.length?o:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),a=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){return"function"==typeof t.handler?a=t.handler(r):void 0}),a},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),a=i.data("method"),o=i.data("params");return r.allowAction(i)?(i.is(r.linkDisableSelector)&&r.disableElement(i),i.data("remote")!==t?!n.metaKey&&!n.ctrlKey||a&&"GET"!==a||o?(r.handleRemote(i)===!1&&r.enableElement(i),!1):!0:i.data("method")?(r.handleMethod(i),!1):void 0):r.stopEverything(n)}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),a=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);return r.allowAction(i)?o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o])?r.stopEverything(n):a?u?(setTimeout(function(){r.disableFormElements(i)},13),r.fire(i,"ajax:aborted:file",[u])):!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1):(setTimeout(function(){r.disableFormElements(i)},13),void 0):r.stopEverything(n)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),a=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(e,t,n){function r(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function i(e,r){var i=this,a=n(i);if(i.value==a.attr("placeholder")&&a.hasClass("placeholder"))if(a.data("placeholder-password")){if(a=a.hide().next().show().attr("id",a.removeAttr("id").data("placeholder-id")),e===!0)return a[0].value=r;a.focus()}else i.value="",a.removeClass("placeholder"),i==t.activeElement&&i.select()}function a(){var e,t=this,a=n(t),o=this.id;if(""==t.value){if("password"==t.type){if(!a.data("placeholder-textinput")){try{e=a.clone().attr({type:"text"})}catch(u){e=n("<input>").attr(n.extend(r(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":a,"placeholder-id":o}).bind("focus.placeholder",i),a.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}a=a.removeAttr("id").hide().prev().attr("id",o).show()}a.addClass("placeholder"),a[0].value=a.attr("placeholder")}else a.removeClass("placeholder")}var o,u,s="placeholder"in t.createElement("input"),l="placeholder"in t.createElement("textarea"),c=n.fn,h=n.valHooks,d=n.propHooks;s&&l?(u=c.placeholder=function(){return this},u.input=u.textarea=!0):(u=c.placeholder=function(){var e=this;return e.filter((s?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":a}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},u.input=s,u.textarea=l,o={get:function(e){var t=n(e),r=t.data("placeholder-password");return r?r[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var o=n(e),u=o.data("placeholder-password");return u?u[0].value=r:o.data("placeholder-enabled")?(""==r?(e.value=r,e!=t.activeElement&&a.call(e)):o.hasClass("placeholder")?i.call(e,!0,r)||(e.value=r):e.value=r,o):e.value=r}},s||(h.input=o,d.value=o),l||(h.textarea=o,d.value=o),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(i);setTimeout(function(){e.each(a)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return 0==t?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return 0==t?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var a=1.70158,o=0,u=r;if(0==t)return n;if(1==(t/=i))return n+r;if(o||(o=.3*i),u<Math.abs(r)){u=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var a=1.70158,o=0,u=r;if(0==t)return n;if(1==(t/=i))return n+r;if(o||(o=.3*i),u<Math.abs(r)){u=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin(2*(t*i-a)*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var a=1.70158,o=0,u=r;if(0==t)return n;if(2==(t/=i/2))return n+r;if(o||(o=.3*i*1.5),u<Math.abs(r)){u=r;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(r/u);return 1>t?-.5*u*Math.pow(2,10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*i-a)*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,a){return void 0==a&&(a=1.70158),r*(t/=i)*t*((a+1)*t-a)+n},easeOutBack:function(e,t,n,r,i,a){return void 0==a&&(a=1.70158),r*((t=t/i-1)*t*((a+1)*t+a)+1)+n},easeInOutBack:function(e,t,n,r,i,a){return void 0==a&&(a=1.70158),(t/=i/2)<1?r/2*t*t*(((a*=1.525)+1)*t-a)+n:r/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:2/2.75>t?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return i/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,r,i)+n:.5*jQuery.easing.easeOutBounce(e,2*t-i,0,r,i)+.5*r+n}}),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,a=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if("object"==typeof e){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),a="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(a?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,a=this.getListenersAsObject(e);for(i in a)a.hasOwnProperty(i)&&(r=t(a[i],n),-1!==r&&a[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if("object"===n)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)n=o[i][r],n.once===!0&&this.removeListener(e,n.listener),a=n.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=a,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(r=function(e,n,r){e[n+r]=r.handleEvent?function(){var n=t(e);r.handleEvent.call(r,n)}:function(){var n=t(e);r.call(e,n)},e.attachEvent("on"+n,e[n+r])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var a={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",a):e.eventie=a}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,r){return t(e,n,r)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(e,t,n){function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){return"[object Array]"===d.call(e)}function a(e){var t=[];if(i(e))t=e;else if("number"==typeof e.length)for(var n=0,r=e.length;r>n;n++)t.push(e[n]);else t.push(e);return t}function o(e,t,n){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=a(e),this.options=r({},this.options),"function"==typeof t?n=t:r(this.options,t),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var i=this;setTimeout(function(){i.check()})}function u(e){this.img=e}function s(e){this.src=e,f[e]=this}var l=e.jQuery,c=e.console,h="undefined"!=typeof c,d=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var r=n.nodeType;if(r&&(1===r||9===r||11===r))for(var i=n.querySelectorAll("img"),a=0,o=i.length;o>a;a++){var u=i[a];this.addImage(u)}}},o.prototype.addImage=function(e){var t=new u(e);this.images.push(t)},o.prototype.check=function(){function e(e,i){return t.options.debug&&h&&c.log("confirm",e,i),t.progress(e),n++,n===r&&t.complete(),!0}var t=this,n=0,r=this.images.length;if(this.hasAnyBroken=!1,!r)return this.complete(),void 0;for(var i=0;r>i;i++){var a=this.images[i];a.on("confirm",e),a.check()}},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},l&&(l.fn.imagesLoaded=function(e,t){var n=new o(this,e,t);return n.jqDeferred.promise(l(this))}),u.prototype=new t,u.prototype.check=function(){var e=f[this.img.src]||new s(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},u.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var f={};return s.prototype=new t,s.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},s.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},s.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},s.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},o}),/*
* @fileOverview TouchSwipe - jQuery Plugin
* @version 1.6.12
*
* @author Matt Bryson http://www.github.com/mattbryson
* @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
* @see http://labs.rampinteractive.co.uk/touchSwipe/
* @see http://plugins.jquery.com/project/touchSwipe
*
* Copyright (c) 2010-2015 Matt Bryson
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var r=e(this),i=r.data(I);i||(i=new n(this,t),r.data(I,i))})}function n(t,n){function r(t){if(!(lt()||e(t.target).closest(n.excludedElements,Nt).length>0)){var r,i=t.originalEvent?t.originalEvent:t,a=i.touches,o=a?a[0]:i;return Ut=y,a?zt=a.length:n.preventDefaultEvents!==!1&&t.preventDefault(),At=0,Dt=null,Bt=null,Ht=0,Rt=0,qt=0,Qt=1,_t=0,Ft=mt(),ut(),ht(0,o),!a||zt===n.fingers||n.fingers===w||N()?(Wt=St(),2==zt&&(ht(1,a[1]),Rt=qt=wt(Vt[0].start,Vt[1].start)),(n.swipeStatus||n.pinchStatus)&&(r=D(i,Ut))):r=!1,r===!1?(Ut=j,D(i,Ut),r):(n.hold&&(Zt=setTimeout(e.proxy(function(){Nt.trigger("hold",[i.target]),n.hold&&(r=n.hold.call(Nt,i,i.target))},this),n.longTapThreshold)),ct(!0),null)}}function k(e){var t=e.originalEvent?e.originalEvent:e;if(Ut!==x&&Ut!==j&&!st()){var r,i=t.touches,a=i?i[0]:t,o=dt(a);if(Xt=St(),i&&(zt=i.length),n.hold&&clearTimeout(Zt),Ut=T,2==zt&&(0==Rt?(ht(1,i[1]),Rt=qt=wt(Vt[0].start,Vt[1].start)):(dt(i[1]),qt=wt(Vt[0].end,Vt[1].end),Bt=yt(Vt[0].end,Vt[1].end)),Qt=Et(Rt,qt),_t=Math.abs(Rt-qt)),zt===n.fingers||n.fingers===w||!i||N()){if(Dt=jt(o.start,o.end),B(e,Dt),At=Tt(o.start,o.end),Ht=bt(),pt(Dt,At),(n.swipeStatus||n.pinchStatus)&&(r=D(t,Ut)),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var u=!0;if(n.triggerOnTouchLeave){var s=Mt(this);u=Ot(o.end,s)}!n.triggerOnTouchEnd&&u?Ut=A(T):n.triggerOnTouchLeave&&!u&&(Ut=A(x)),(Ut==j||Ut==x)&&D(t,Ut)}}else Ut=j,D(t,Ut);r===!1&&(Ut=j,D(t,Ut))}}function L(e){var t=e.originalEvent?e.originalEvent:e,r=t.touches;if(r){if(r.length&&!st())return ot(),!0;if(r.length&&st())return!0}return st()&&(zt=Yt),Xt=St(),Ht=bt(),q()||!R()?(Ut=j,D(t,Ut)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&Ut===T?(n.preventDefaultEvents!==!1&&e.preventDefault(),Ut=x,D(t,Ut)):!n.triggerOnTouchEnd&&Y()?(Ut=x,H(t,Ut,p)):Ut===T&&(Ut=j,D(t,Ut)),ct(!1),null}function P(){zt=0,Xt=0,Wt=0,Rt=0,qt=0,Qt=1,ut(),ct(!1)}function $(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&(Ut=A(x),D(t,Ut))}function C(){Nt.unbind(kt,r),Nt.unbind(Ct,P),Nt.unbind(Lt,k),Nt.unbind(Pt,L),$t&&Nt.unbind($t,$),ct(!1)}function A(e){var t=e,r=_(),i=R(),a=q();return!r||a?t=j:!i||e!=T||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!i&&e==x&&n.triggerOnTouchLeave&&(t=j):t=x,t}function D(e,t){var n,r=e.touches;return W()&&V()||U()&&N()?(W()&&V()&&(n=H(e,t,d)),U()&&N()&&n!==!1&&(n=H(e,t,f))):it()&&n!==!1?n=H(e,t,v):at()&&n!==!1?n=H(e,t,m):rt()&&n!==!1&&(n=H(e,t,p)),t===j&&(V()&&(n=H(e,t,d)),N()&&(n=H(e,t,f)),P(e)),t===x&&(r?r.length||P(e):P(e)),n}function H(t,r,c){var h;if(c==d){if(Nt.trigger("swipeStatus",[r,Dt||null,At||0,Ht||0,zt,Vt]),n.swipeStatus&&(h=n.swipeStatus.call(Nt,t,r,Dt||null,At||0,Ht||0,zt,Vt),h===!1))return!1;if(r==x&&z()){if(Nt.trigger("swipe",[Dt,At,Ht,zt,Vt]),n.swipe&&(h=n.swipe.call(Nt,t,Dt,At,Ht,zt,Vt),h===!1))return!1;switch(Dt){case i:Nt.trigger("swipeLeft",[Dt,At,Ht,zt,Vt]),n.swipeLeft&&(h=n.swipeLeft.call(Nt,t,Dt,At,Ht,zt,Vt));break;case a:Nt.trigger("swipeRight",[Dt,At,Ht,zt,Vt]),n.swipeRight&&(h=n.swipeRight.call(Nt,t,Dt,At,Ht,zt,Vt));break;case o:Nt.trigger("swipeUp",[Dt,At,Ht,zt,Vt]),n.swipeUp&&(h=n.swipeUp.call(Nt,t,Dt,At,Ht,zt,Vt));break;case u:Nt.trigger("swipeDown",[Dt,At,Ht,zt,Vt]),n.swipeDown&&(h=n.swipeDown.call(Nt,t,Dt,At,Ht,zt,Vt))}}}if(c==f){if(Nt.trigger("pinchStatus",[r,Bt||null,_t||0,Ht||0,zt,Qt,Vt]),n.pinchStatus&&(h=n.pinchStatus.call(Nt,t,r,Bt||null,_t||0,Ht||0,zt,Qt,Vt),h===!1))return!1;if(r==x&&F())switch(Bt){case s:Nt.trigger("pinchIn",[Bt||null,_t||0,Ht||0,zt,Qt,Vt]),n.pinchIn&&(h=n.pinchIn.call(Nt,t,Bt||null,_t||0,Ht||0,zt,Qt,Vt));break;case l:Nt.trigger("pinchOut",[Bt||null,_t||0,Ht||0,zt,Qt,Vt]),n.pinchOut&&(h=n.pinchOut.call(Nt,t,Bt||null,_t||0,Ht||0,zt,Qt,Vt))}}return c==p?(r===j||r===x)&&(clearTimeout(Jt),clearTimeout(Zt),K()&&!et()?(Kt=St(),Jt=setTimeout(e.proxy(function(){Kt=null,Nt.trigger("tap",[t.target]),n.tap&&(h=n.tap.call(Nt,t,t.target))},this),n.doubleTapThreshold)):(Kt=null,Nt.trigger("tap",[t.target]),n.tap&&(h=n.tap.call(Nt,t,t.target)))):c==v?(r===j||r===x)&&(clearTimeout(Jt),Kt=null,Nt.trigger("doubletap",[t.target]),n.doubleTap&&(h=n.doubleTap.call(Nt,t,t.target))):c==m&&(r===j||r===x)&&(clearTimeout(Jt),Kt=null,Nt.trigger("longtap",[t.target]),n.longTap&&(h=n.longTap.call(Nt,t,t.target))),h}function R(){var e=!0;return null!==n.threshold&&(e=At>=n.threshold),e}function q(){var e=!1;return null!==n.cancelThreshold&&null!==Dt&&(e=vt(Dt)-At>=n.cancelThreshold),e}function Q(){return null!==n.pinchThreshold?_t>=n.pinchThreshold:!0}function _(){var e;return e=n.maxTimeThreshold?Ht>=n.maxTimeThreshold?!1:!0:!0}function B(e,t){if(n.preventDefaultEvents!==!1)if(n.allowPageScroll===c)e.preventDefault();else{var r=n.allowPageScroll===h;switch(t){case i:(n.swipeLeft&&r||!r&&n.allowPageScroll!=g)&&e.preventDefault();break;case a:(n.swipeRight&&r||!r&&n.allowPageScroll!=g)&&e.preventDefault();break;case o:(n.swipeUp&&r||!r&&n.allowPageScroll!=b)&&e.preventDefault();break;case u:(n.swipeDown&&r||!r&&n.allowPageScroll!=b)&&e.preventDefault()}}}function F(){var e=X(),t=G(),n=Q();return e&&t&&n}function N(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function U(){return!(!F()||!N())}function z(){var e=_(),t=R(),n=X(),r=G(),i=q(),a=!i&&r&&n&&t&&e;return a}function V(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function W(){return!(!z()||!V())}function X(){return zt===n.fingers||n.fingers===w||!S}function G(){return 0!==Vt[0].end.x}function Y(){return!!n.tap}function K(){return!!n.doubleTap}function J(){return!!n.longTap}function Z(){if(null==Kt)return!1;var e=St();return K()&&e-Kt<=n.doubleTapThreshold}function et(){return Z()}function tt(){return(1===zt||!S)&&(isNaN(At)||At<n.threshold)}function nt(){return Ht>n.longTapThreshold&&E>At}function rt(){return!(!tt()||!Y())}function it(){return!(!Z()||!K())}function at(){return!(!nt()||!J())}function ot(){Gt=St(),Yt=event.touches.length+1}function ut(){Gt=0,Yt=0}function st(){var e=!1;if(Gt){var t=St()-Gt;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function lt(){return!(Nt.data(I+"_intouch")!==!0)}function ct(e){e===!0?(Nt.bind(Lt,k),Nt.bind(Pt,L),$t&&Nt.bind($t,$)):(Nt.unbind(Lt,k,!1),Nt.unbind(Pt,L,!1),$t&&Nt.unbind($t,$,!1)),Nt.data(I+"_intouch",e===!0)}function ht(e,t){var n={start:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.end.x=t.pageX||t.clientX,n.start.y=n.end.y=t.pageY||t.clientY,Vt[e]=n,n}function dt(e){var t=void 0!==e.identifier?e.identifier:0,n=ft(t);return null===n&&(n=ht(t,e)),n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function ft(e){return Vt[e]||null}function pt(e,t){t=Math.max(t,vt(e)),Ft[e].distance=t}function vt(e){return Ft[e]?Ft[e].distance:void 0}function mt(){var e={};return e[i]=gt(i),e[a]=gt(a),e[o]=gt(o),e[u]=gt(u),e}function gt(e){return{direction:e,distance:0}}function bt(){return Xt-Wt}function wt(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Et(e,t){var n=t/e*1;return n.toFixed(2)}function yt(){return 1>Qt?l:s}function Tt(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function xt(e,t){var n=e.x-t.x,r=t.y-e.y,i=Math.atan2(r,n),a=Math.round(180*i/Math.PI);return 0>a&&(a=360-Math.abs(a)),a}function jt(e,t){var n=xt(e,t);return 45>=n&&n>=0?i:360>=n&&n>=315?i:n>=135&&225>=n?a:n>45&&135>n?u:o}function St(){var e=new Date;return e.getTime()}function Mt(t){t=e(t);var n=t.offset(),r={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return r}function Ot(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var n=e.extend({},n),It=S||O||!n.fallbackToMouseEvents,kt=It?O?M?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Lt=It?O?M?"MSPointerMove":"pointermove":"touchmove":"mousemove",Pt=It?O?M?"MSPointerUp":"pointerup":"touchend":"mouseup",$t=It?null:"mouseleave",Ct=O?M?"MSPointerCancel":"pointercancel":"touchcancel",At=0,Dt=null,Ht=0,Rt=0,qt=0,Qt=1,_t=0,Bt=0,Ft=null,Nt=e(t),Ut="start",zt=0,Vt={},Wt=0,Xt=0,Gt=0,Yt=0,Kt=0,Jt=null,Zt=null;try{Nt.bind(kt,r),Nt.bind(Ct,P)}catch(en){e.error("events not supported "+kt+","+Ct+" on jQuery.swipe")}this.enable=function(){return Nt.bind(kt,r),Nt.bind(Ct,P),Nt},this.disable=function(){return C(),Nt},this.destroy=function(){C(),Nt.data(I,null),Nt=null},this.option=function(t,r){if("object"==typeof t)n=e.extend(n,t);else if(void 0!==n[t]){if(void 0===r)return n[t];n[t]=r}else{if(!t)return n;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var r="1.6.12",i="left",a="right",o="up",u="down",s="in",l="out",c="none",h="auto",d="swipe",f="pinch",p="tap",v="doubletap",m="longtap",g="horizontal",b="vertical",w="all",E=10,y="start",T="move",x="end",j="cancel",S="ontouchstart"in window,M=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,O=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,I="TouchSwipe",k={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(n){var r=e(this),i=r.data(I);if(i&&"string"==typeof n){if(i[n])return i[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof n)i.option.apply(this,arguments);else if(!(i||"object"!=typeof n&&n))return t.apply(this,arguments);return r},e.fn.swipe.version=r,e.fn.swipe.defaults=k,e.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:T,PHASE_END:x,PHASE_CANCEL:j},e.fn.swipe.directions={LEFT:i,RIGHT:a,UP:o,DOWN:u,IN:s,OUT:l},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:b,AUTO:h},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:w}}),window.console||(console={log:function(){}}),window.THEME||(THEME={}),jQuery(function($){"use strict";THEME.fix=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(e)}},THEME.placeholder=function(){$("input, textarea").placeholder()},THEME.carousel=function(){$(".carousel").each(function(){var e=$(this);e.find(".item").length>1||(e.find(".carousel-control").each(function(){$(this).css({display:"none"})}),e.find(".carousel-indicators").each(function(){$(this).css({display:"none"})})),e.on("slide.bs.carousel",function(){var e=$(this).find(".active iframe");if(e.length){var t=Froogaloop(e[0]);t.api("pause")}})}),$(".carousel-inner").swipe({swipeLeft:function(){$(this).parent().carousel("next")},swipeRight:function(){$(this).parent().carousel("prev")},threshold:10})},THEME.getScreenHeight=function(){var e=$(".navbar").height(),t=$(window).outerHeight();return Math.round(t-e)},THEME.resizing=function(){var e=$(".navbar").height(),t=$("#project-carousel"),n=$("#project-wrapper");n.css({"margin-top":e}),$(window).outerWidth()>768&&t.css("max-height",Math.round(.8*THEME.getScreenHeight()))},$(document).ready(function(){var $projects=$(".projects");$(".thumbnail-heading").each(function(){var e=$(this).html(),t=e.indexOf(" ");-1==t&&(t=e.length),$(this).html(e.substring(0,t)+"<br>"+e.substring(t,e.length))}),$("a[data-remote]").on("ajax:beforeSend",function(){$(this).hasClass("active")||($(".thumbnail").removeClass("active"),$(this).addClass("active"),$("#project-container").hide(),$(".throbber_page").show(),$("body, html").stop().animate({scrollTop:0},1500,"easeOutExpo"))}).on("ajax:success",function(evt,xhr,settings){var that=$(this),url=that.attr("href"),$container=$("#project-container");history.pushState(null,null,url),"undefined"!=typeof _gaq?_gaq.push(["_trackPageview",url]):console.log("_gaq disabled for _trackPageview"+url),$container.html(eval(xhr)),THEME.placeholder(),THEME.carousel(),$("#project-carousel").imagesLoaded().always(function(){THEME.resizing(),$(".throbber_page").hide()}),$container.show();try{FB.XFBML.parse()}catch(e){console.log("FB error")}}).on("ajax:error",function(e,t){var n=$.parseJSON(t.getResponseHeader("X-Flash-Messages"));console.log("Site.error "+n.error)}),THEME.fix(),THEME.placeholder(),THEME.carousel(),$(window).resize(function(){THEME.resizing()}),$("#projects-wrapper").imagesLoaded().always(function(){console.log("ok"),THEME.resizing()}),THEME.resizing()})});